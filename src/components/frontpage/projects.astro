---
import Badge from "~/components/badge.astro"
import Icon from "~/components/icon.astro"
import { Button } from "~/components/ui/button"
import { projects } from "~/lib/data"

const maxProjects = 3
---

<section id="projects">
  <h2 class="mb-10 text-center text-3xl font-bold tracking-tight md:text-4xl">Aktuelle Projekte</h2>

  <div class="mx-auto max-w-4xl">
    <div class="grid grid-cols-1 gap-6">
      {
        projects.slice(0, maxProjects).map((project) => (
          <div class="rounded-lg text-card-foreground relative overflow-hidden border border-border p-6">
            <h3 class="mb-3 text-2xl font-bold">{project.title}</h3>
            <p class="mb-4 text-muted-foreground">{project.description}</p>
            <div class="mb-4 flex-wrap gap-2 hidden md:flex">
              {project.technologies.map((technology) => (
                <Badge>{technology}</Badge>
              ))}
            </div>
            <div class="flex flex-wrap gap-3">
              {project.demo && (
                <Button
                  variant="default"
                  size="sm"
                  as={"a"}
                  href={project.demo}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="h-8 flex items-center gap-1"
                >
                  <Icon name="external-link" />
                  Live Demo
                </Button>
              )}
              {project.github && (
                <Button
                  variant="outline"
                  size="sm"
                  as={"a"}
                  href={project.github}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="h-8 flex items-center gap-1"
                >
                  <Icon name="github" />
                  GitHub
                </Button>
              )}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
